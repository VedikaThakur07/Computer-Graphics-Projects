<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Q1: 2D Transformations</title>
    <!-- Tailwind CSS ko internet se load kar rahe hain -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Thodi extra styling */
        canvas { border: 2px solid #334155; background: #f1f5f9; display:block; margin:0 auto; }
        body{font-family:Inter,sans-serif}
    </style>
</head>
<body class="bg-slate-800 text-slate-100 min-h-screen flex items-center justify-center p-4">
  <div class="bg-slate-700 p-6 rounded-lg shadow-2xl w-full max-w-2xl">
    <h1 class="text-2xl font-bold text-center mb-4 text-cyan-400">Q1: 2D Transformations</h1>
    <!-- Yeh hamara drawing area hai (canvas) -->
    <div class="flex justify-center mb-4">
      <canvas id="graphicsCanvas" width="500" height="300"></canvas>
    </div>
    <!-- Yeh 4 buttons hain -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
      <button id="translateBtn" class="bg-cyan-600 hover:bg-cyan-700 text-white py-2 px-4 rounded transition-all">Translate</button>
      <button id="rotateBtn" class="bg-cyan-600 hover:bg-cyan-700 text-white py-2 px-4 rounded transition-all">Rotate</button>
      <button id="scaleBtn" class="bg-cyan-600 hover:bg-cyan-700 text-white py-2 px-4 rounded transition-all">Scale</button>
      <button id="resetBtn" class="bg-pink-600 hover:bg-pink-700 text-white py-2 px-4 rounded transition-all">Reset</button>
    </div>
  </div>

  <!-- Saara JavaScript code yahaan hai -->
  <script>
    const canvas = document.getElementById('graphicsCanvas');
    const ctx = canvas.getContext('2d');

    // Hamara original rectangle (4 kono ke points)
    const originalPoints = [
      { x: 100, y: 100 },
      { x: 200, y: 100 },
      { x: 200, y: 150 },
      { x: 100, y: 150 }
    ];
    // currentPoints mein badlaav honge
    let currentPoints = JSON.parse(JSON.stringify(originalPoints));

    // Yeh function object ko canvas par banata (draw) hai
    function drawObject(points, color='blue'){
      ctx.clearRect(0,0,canvas.width,canvas.height); // Canvas saaf karo
      drawAxes(); // X aur Y axis banao
      ctx.fillStyle = color;
      ctx.beginPath();
      ctx.moveTo(points[0].x, points[0].y);
      for(let i=1;i<points.length;i++) ctx.lineTo(points[i].x, points[i].y);
      ctx.closePath(); ctx.fill();
    }

    // X-Y axis draw karne ke liye
    function drawAxes(){
      ctx.strokeStyle = '#94a3b8'; // Halka gray rang
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(0, canvas.height/2); ctx.lineTo(canvas.width, canvas.height/2); ctx.stroke(); // X-axis
      ctx.beginPath();
      ctx.moveTo(canvas.width/2, 0); ctx.lineTo(canvas.width/2, canvas.height); ctx.stroke(); // Y-axis
    }

    // --- TRANSLATE (Jagah badalna) ---
    function translateObject(){
      const dx = parseFloat(prompt("X mein kitna hilana hai (dx):", "50"));
      const dy = parseFloat(prompt("Y mein kitna hilana hai (dy):", "30"));
      if(isNaN(dx) || isNaN(dy)) return console.error("Invalid input");
      // Har point mein dx aur dy jod do
      currentPoints = currentPoints.map(p => ({ x: p.x + dx, y: p.y + dy }));
      drawObject(currentPoints, '#14b8a6'); // Teal rang
    }

    // --- ROTATE (Ghumaana) ---
    function rotateObject(){
      const angleDeg = parseFloat(prompt("Kitne degree ghumaana hai (angle):", "45"));
      if(isNaN(angleDeg)) return console.error("Invalid");
      // Object ka center point nikaalo
      const cx = currentPoints.reduce((s,p)=>s+p.x,0)/currentPoints.length;
      const cy = currentPoints.reduce((s,p)=>s+p.y,0)/currentPoints.length;
      const th = angleDeg * Math.PI / 180; // Angle ko radians mein badlo
      // Rotation formula lagao
      currentPoints = currentPoints.map(p=>{
        const xs = p.x - cx, ys = p.y - cy;
        const xr = xs*Math.cos(th) - ys*Math.sin(th);
        const yr = xs*Math.sin(th) + ys*Math.cos(th);
        return { x: xr + cx, y: yr + cy };
      });
      drawObject(currentPoints, '#fbbf24'); // Peela rang
    }

    // --- SCALE (Chhota-Bada karna) ---
    function scaleObject(){
      const sx = parseFloat(prompt("X mein kitna bada karna hai (sx):", "1.5"));
      const sy = parseFloat(prompt("Y mein kitna bada karna hai (sy):", "1.M"));
      if(isNaN(sx)||isNaN(sy)) return console.error("Invalid");
      // Center point nikaalo
      const cx = currentPoints.reduce((s,p)=>s+p.x,0)/currentPoints.length;
      const cy = currentPoints.reduce((s,p)=>s+p.y,0)/currentPoints.length;
      // Scaling formula lagao
      currentPoints = currentPoints.map(p=>{
        const xs = p.x - cx, ys = p.y - cy;
        return { x: xs*sx + cx, y: ys*sy + cy };
      });
      drawObject(currentPoints, '#22c55e'); // Hara rang
    }

    // --- RESET ---
    function resetObject(){ 
      currentPoints = JSON.parse(JSON.stringify(originalPoints)); // Wapas original jaisa kar do
      drawObject(currentPoints,'blue'); 
    }

    // Buttons ko unke function se jodna
    document.getElementById('translateBtn').addEventListener('click', translateObject);
    document.getElementById('rotateBtn').addEventListener('click', rotateObject);
    document.getElementById('scaleBtn').addEventListener('click', scaleObject);
    document.getElementById('resetBtn').addEventListener('click', resetObject);

    // Pehli baar load hone par object banao
    drawObject(currentPoints,'blue');
  </script>
</body>
</html>